<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<item>
<title>[COLOR white] Buscador de Documentales [/COLOR]</title>
<link>$doregex[makelist]</link>
<thumbnail>https://pbs.twimg.com/profile_images/887800080052432900/AibeE5p1_400x400.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR yellow] Agora [/COLOR][COLOR white][makelist.param2][/COLOR]</title>
<link>$doregex[resolve]</link>
<thumbnail>https://crunchbase-production-res.cloudinary.com/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/v1426784194/d2eqf0hi7vsemxowflgd.png</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
]]></listrepeat>
<expres>u'(.+?)', u'(.+?)'</expres>
<page>$doregex[search]</page>
</regex>
 
<regex>
<name>resolve</name>
<expres><![CDATA[#$pyFunction
import urlresolver
def GetLSProData(page_data,Cookie_Jar,m):
 url = 'https://www.youtube.com/watch?v=[makelist.param1]'
 streamLink = urlresolver.resolve(url)
 return streamLink
]]></expres>
<page></page>
</regex>
 
<regex>
<name>search</name>
<expres><![CDATA[#$pyFunction
import requests,xbmcgui,xbmc, re,time, xbmcaddon
def GetLSProData(page_data,Cookie_Jar,m):
 
 text=takeInputFortext('[COLOR yellow] Agora/[/COLOR] [COLOR white]Buscar Documental[/COLOR]')
 url = 'https://www.youtube.com/results?search_query=Documental' + text.replace(' ', '+')
 req = requests.get(url)
 list1 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
 
 count = 50
 while count > 1:
   try:
     url = 'https://www.youtube.com' + re.findall('a href="([^"]+)".+<\/a>\n <\/div>', req.text)[0]
   except:
     return list1
   req = requests.get(url)
   list2 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
   list1 = list1 + list2
   count = count - 1
 return list1
 
def takeInputFortext(txt):
 addon = xbmcaddon.Addon('plugin.video.Agora')
 addon_version = addon.getAddonInfo('version')
 profile = xbmc.translatePath(addon.getAddonInfo('profile').decode('utf-8'))
 
 solver = InputWindow( txt=txt)
 solution = solver.get()
 return solution
 
class InputWindow(xbmcgui.WindowDialog):
    def __init__(self, *args, **kwargs):
       
        self.txt = kwargs.get('txt','')
 
        xbmcgui.WindowXMLDialog.__init__(self)
        #self.addControl(self.txt)
        path = xbmcaddon.Addon().getAddonInfo('path')
        self.kbd = xbmc.Keyboard()
        self.kbd.setHeading( self.txt)
 
    def get(self):
        self.show()
        time.sleep(2)
        self.kbd.doModal()
        if (self.kbd.isConfirmed()):
            text = self.kbd.getText()
            self.close()
            return text
        self.close()
        return False
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>[COLOR blue][B]PelisPlanet - Genero[/B][/COLOR]</title>
<link>$doregex[regex]</link>
 
<regex>
<name>regex</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[COLOR white][regex.param2][/COLOR]</title>
<link>$doregex[page]</link>
<thumbnail>[regex.param3]</thumbnail>
<fanart>[regex.param3]</fanart>
]]></listrepeat>
<expres><![CDATA[<a href="http:\/\/www.pelisplanet.com\/genero\/([^"]+).*?title="([^"]+).*?img\ssrc="([^"]+).*?]]></expres>
<page>http://www.pelisplanet.com/genero/</page>
</regex>
 
<regex>
<name>page</name>
<listrepeat><![CDATA[
<title>Pagina [page.param1]</title>
<link>$doregex[regex1]</link>
]]></listrepeat>
<expres>'(.*?)'</expres>
<page>'1''2''3''4''5''6''7''8''9''10''11''12''13''14''15''16''17''18''19''20''21''22''23''24''25'</page>
</regex>
 
<regex>
<name>regex1</name>
<listrepeat><![CDATA[
<SetViewMode>50</SetViewMode>
<title>[COLOR white][regex1.param2][/COLOR]</title>
<link>$doregex[regex2]</link>
<thumbnail>[regex1.param5]</thumbnail>
<fanart>[regex1.param5]</fanart>
]]></listrepeat>
<expres><![CDATA[href="(.*?)"[\w\W\s]{0,510}one-line">(.*?)<[\w\W\s]{0,350}flags/(.*?).png.*?title="(.*?)"[\w\W\s]{0,240}src="(.*?)"]]></expres>
<page>http://www.pelisplanet.com/genero/[regex.param1]page/[page.param1]/</page>
</regex>
 
<regex>
<name>regex2</name>
<listrepeat><![CDATA[
<title>[regex1.param2]</title>
<urlsolve>[regex2.param1]</urlsolve>
<thumbnail>[regex1.param5]</thumbnail>
<fanart>[regex1.param5]</fanart>
]]></listrepeat>
<expres><![CDATA[rel="(https://streamango.*?|https://openload.*?|https://vidoza.*?|https://www.rapidvideo.*?|http://streamvips.*?|https://userscloud.*?)"]]></expres>
<page>[regex1.param1]</page>
<cookieJar></cookieJar>
</regex>
 
<thumbnail></thumbnail>
<fanart></fanart>
</item>
 
</item>

  
  
<item>
<title>RCN</title>
<link>$doregex[GetPageUrl]|User-Agent=Mozilla/5.0</link>
<regex>
<name>GetPageUrl</name>
<expres>source: '(.*?)'</expres>
<page>http://vergol.com/live1/rcn.php</page>
<referer>http://vercanalestv.com/tv/colombia/rcn.html</referer>
</regex>
<thumbnail></thumbnail>
<fanart></fanart>
</item>

<item>
<title>InkaPelis Generos</title>
<link>$doregex[regex]</link>

<regex>
<name>regex</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[regex.param2]</title>
<link>$doregex[makelist]</link>
<thumbnail></thumbnail>
<fanart></fanart>
]]></listrepeat>
<expres>class="([^"]+).*?href="https:\/\/www\.inkapelis\.com\/genero\/([^\/]+).*?</expres>
<page>https://www.inkapelis.com/</page>
</regex>
  
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>Pagina [makelist.param1]</title>
<link>$doregex[regex1]</link>
]]></listrepeat>
<expres>'(.*?)'</expres>
<page>'1''2''3''4''5''6''7''8''9''10''11''12''13''14''15''16''17''18''19''20''21''22''23''24''25''26''27''28''29''30''31''32''33''34''35''36''37''38''39''40''41''42''43''44''45''46''47''48''49''50''51''52''53''54''55''56''57''58''59''60''61''62''63''64''65''66''67''68''69''70'</page>
</regex>

<regex>
<name>regex1</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[regex1.param3] - [regex1.param1]</title>
<link>$doregex[regex2]</link>
<genre>[regex.param2]</genre>
<info>[regex2.param3]</info>
<thumbnail>[regex1.param4]</thumbnail>
<fanart>[regex1.param4]</fanart>
]]></listrepeat>
<expres>(?s)class="poster-media-card([^"]+).*?a href="([^"]+).*?title="([^"]+).*?src="([^"]+).*?</expres>
<page>https://www.inkapelis.com/genero/[regex.param2]/page/[makelist.param1]/</page>
</regex>

<regex>
<name>regex2</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[regex1.param3]</title>
<urlsolve>[regex2.param2]</urlsolve>
<thumbnail>[regex1.param4]</thumbnail>
<fanart>[regex1.param4]</fanart>
]]></listrepeat>
<expres>(?s)class="dlmt">([^"]+).*?a href="([^"]+).*?class="trasnparente">([^<]+).*?<\/p></expres>
<page>[regex1.param2]</page>
</regex>
</item>



<item>
<title>[COLOR lightsalmon]Locopelis[/COLOR]</title>
<link>$doregex[lou]</link>
 
<regex>
<name>lou</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[COLOR yellow][lou.param1][/COLOR]</title>
<thumbnail>https://i.imgur.com/7VClmJu.jpg</thumbnail>
<fanart>https://i.imgur.com/7VClmJu.jpg</fanart>
<link>$doregex[pelis]</link>
]]></listrepeat>
<expres><![CDATA[(?s)<li><a title="([^"']+).*?href="([^"']+).*?]]></expres>
<page>https://www.locopelis.com/</page>
<thumbnail>https://i.imgur.com/7VClmJu.jpg</thumbnail>
<fanart>https://i.imgur.com/7VClmJu.jpg</fanart>
</regex>

<regex>
<name>pelis</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[COLOR turquoise][pelis.param1][/COLOR]</title>
<link>$doregex[enlaces]</link>
<thumbnail>[pelis.param3]<thumbnail>
<fanart>[pelis.param3]</fanart>
]]></listrepeat>
<expres><![CDATA[(?s)<h2 class="titpeli bold ico_b">([^<]+).*?<a href="([^"]+).*?<img src="([^"]+).*?]]></expres>
<page>[lou.param2]</page>
</regex>

<regex>
<name>enlaces</name>
<listrepeat><![CDATA[
<SetViewMode>500</SetViewMode>
<title>[pelis.param1]</title>
<urlsolve>[enlaces.param1]</urlsolve>
]]></listrepeat>
<expres><![CDATA[(?s)<iframe src="([^"]+).*?]]></expres>
<page>[pelis.param2]</page>
</regex>
<thumbnail>[pelis.param3]<thumbnail>
<fanart>[pelis.param3]</fanart>
</item>



<item>
<title>[COLOR white]pildorasinformaticas[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/channel/UCdulIs-x_xrRd1ezwJZR9ww/</jsonrpc>
</item>

<item>
<title>[COLOR white]Curso Excel 2010 Avanzado[/COLOR]</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR white][makelist.param1][/COLOR]</title>
<link>plugin://plugin.video.youtube/play/?video_id=[makelist.param2]</link>
<thumbnail>https://i.ytimg.com/vi/[makelist.param2]/hqdefault.jpg</thumbnail>
<fanart></fanart>
]]></listrepeat>
<expres>data-video-title="(.*?)".*?\n.*?\n.*?\n.*?\n.*?&lt;a href="\/watch\?v=(.*?)&amp;</expres>
<page>https://www.youtube.com/watch?v=keahyLxtOfQ&amp;list=PLFED09792AB0E606F</page>
<cookieJar></cookieJar>
</regex>
<thumbnail></thumbnail>
<fanart></fanart>
</item>

<item>
<title>[COLOR white]Curso Python desde 0.[/COLOR]</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR white][makelist.param1][/COLOR]</title>
<link>plugin://plugin.video.youtube/play/?video_id=[makelist.param2]</link>
<thumbnail>https://i.ytimg.com/vi/[makelist.param2]/hqdefault.jpg</thumbnail>
<fanart></fanart>
]]></listrepeat>
<expres>data-video-title="(.*?)".*?\n.*?\n.*?\n.*?\n.*?&lt;a href="\/watch\?v=(.*?)&amp;</expres>
<page>https://www.youtube.com/watch?v=G2FCfQj-9ig&amp;list=PLU8oAlHdN5BlvPxziopYZRd55pdqFwkeS</page>
<cookieJar></cookieJar>
</regex>
<thumbnail></thumbnail>
<fanart></fanart>
</item>

<item>
<title>[COLOR white]Mundo Desconocido[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/user/mundodesconocido/</jsonrpc>
</item>

<item>
<title>[COLOR white]Jose Alfonso Hernando[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/user/valdeandemagico/</jsonrpc>
</item>

<item>
<title>[COLOR white]Chemtrails Galicia Geoingenieria y Conspiraciones[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/channel/UCvjqfH7LrsBybZ0hgflRLJg/</jsonrpc>
</item>

<item>
<title>[COLOR white]contraperiodismo[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/user/contraperiodismo/</jsonrpc>
</item>

<item>
<title>[COLOR white]RIMBEL35[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/user/RIMBEL35/</jsonrpc>
</item>

<item>
<title>[COLOR white]Juguetes Toys[/COLOR]</title>
<link>nolink</link>
<jsonrpc>plugin://plugin.video.youtube/channel/UCvpZjspm7S2MTWBy7D-OQ0A/</jsonrpc>
</item>
